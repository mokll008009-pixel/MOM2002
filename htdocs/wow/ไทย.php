<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>037-Anime - ‡∏î‡∏π‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏∞‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation Header -->
    <header class="navbar">
        <div class="navbar-container">
            <div class="logo">MOM2002</div>
            <nav class="nav-menu">
                <a href="./index.php" class="nav-link">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
                <a href="‡∏ã‡∏±‡∏ö‡πÑ‡∏ó‡∏¢.php" class="nav-link">‡∏ã‡∏±‡∏ö‡πÑ‡∏ó‡∏¢</a>
                <a href="‡πÑ‡∏ó‡∏¢.php" class="nav-link">‡∏û‡∏≤‡∏Å‡∏¢‡πå‡πÑ‡∏ó‡∏¢</a>
                <div class="nav-dropdown">
                    <button class="nav-dropdown-btn">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ ‚ñº</button>
                    <div class="dropdown-menu">
                        <button class="dropdown-btn">1. ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</button>
                        <button class="dropdown-btn">2. ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</button>
                        <button class="dropdown-btn">3. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡∏±‡∏á</button>
                    </div>
                </div>
            </nav>
            <div class="nav-right">
                <button class="btn-search">üîç</button>
                <div id="search-box" style="display:none;position:absolute;top:60px;right:40px;z-index:1000;">
                    <input type="text" id="search-input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡∏±‡∏á..." style="padding:8px 16px;border-radius:8px;border:1px solid #ccc;width:220px;">
                    <button id="search-go" style="padding:8px 16px;border-radius:8px;background:#2563eb;color:#fff;border:none;">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>‡∏≠‡∏∏‡∏î‡∏ô‡∏¥‡πÄ‡∏°‡∏∞‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏ü‡∏£‡∏µ | 037-Anime ‡πÄ‡∏ß‡πá‡∏ö‡∏≠‡∏∏‡∏î‡∏≤‡∏£‡∏∏‡πå‡∏î‡∏ô‡∏ô‡∏û‡∏≤‡∏Å‡∏¢‡πå‡πÑ‡∏ó‡∏¢ ‡∏ã‡∏±‡∏ö‡πÑ‡∏ó‡∏¢ ‡∏≠‡∏±‡∏ö‡πÄ‡∏î‡πá‡∏î‡πÑ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô!</h1>
            <p>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏ö‡∏£‡∏±‡∏ö 037-Anime ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏£‡∏ß‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏∞‡∏î‡∏∏‡∏î‡∏ô‡∏†‡∏≤‡∏û ‡∏ó‡∏±‡πâ‡∏á‡πÅ‡∏ö‡∏ö ‡∏ã‡∏±‡∏ö‡πÑ‡∏ó‡∏¢ ‡πÅ‡∏•‡∏∞ ‡∏û‡∏≤‡∏Å‡∏¢‡πå‡πÑ‡∏ó‡∏¢ ‡∏≠‡∏±‡∏ö‡πÄ‡∏î‡πá‡∏î‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏ß‡∏¥‡∏ó‡∏µ‡∏™‡∏∏‡∏î! ‡∏™‡∏π‡∏ï‡∏£ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡πÑ‡∏°‡πà‡∏°‡πÇ‡∏¢‡∏ä‡∏ô‡∏≤‡∏£‡∏ñ‡∏Å‡∏≤ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏≠‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏á‡πà‡∏≤‡∏¢ ‡πÅ‡∏ü‡∏Å‡∏ú‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÄ‡∏ï‡∏∞‡πÄ‡∏ô ‡πÑ‡∏°‡πà‡πà‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏á‡∏≠‡∏ï‡∏π‡πâ ‡πÅ‡∏ü‡∏ô‡∏ï‡∏≤‡∏î‡∏µ ‡πÇ‡∏£‡πÅ‡∏°‡∏ô‡∏ï‡∏¥‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏∏‡∏î‡∏î‡∏≠‡∏°‡πÄ‡∏î‡πâ ‚Äî ‡∏ó‡∏µ‡∏°‡∏µ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡πÅ‡∏ô‡∏ß!</p>
            <p class="highlight-title">‡∏™‡∏ô‡∏ó‡∏®‡∏±‡∏ö‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏∞‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏°‡πå ‡πÄ‡∏ã‡∏¥‡πà‡∏ô</p>
            <div class="anime-list-mini">
                <a href="#" class="anime-link">One Piece</a>
                <a href="#" class="anime-link">Demon Slayer</a>
                <a href="#" class="anime-link">Jujutsu Kaisen</a>
            </div>
            <p class="disclaimer">‡πÅ‡∏ï‡∏∞‡∏î‡∏∂‡∏Å‡∏î‡∏≥‡πÅ‡∏ô‡∏ô‡∏±‡∏ö‡∏ö HD ‡∏Ñ‡∏∏‡∏ì‡∏î‡∏µ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏∞‡∏î‡∏∏‡∏î! ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏ß‡∏à‡∏≤‡∏ô ‡∏≠‡∏∏‡∏î‡∏ô‡∏¥‡πÄ‡∏°‡∏∞‡∏®‡∏∏‡∏ô‡∏Ñ ‡πë ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏≠‡∏ô ‡∏ó‡∏µ‡πà 037-Anime.com ‡πÄ‡∏ß‡πá‡∏ö‡∏≠‡∏∏‡∏î‡∏≤‡∏£‡∏∏‡πå‡∏î‡∏ô‡∏ô‡∏≠‡∏±‡∏ö‡∏î‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡∏¢‡πà‡∏≠‡∏á‡∏Ñ‡∏ô‡∏Å‡∏≠‡∏ô‡πÄ‡∏°‡∏∞‡πÑ‡∏ó‡∏¢</p>
        </div>
    </section>

    <!-- Button Section -->
    <section class="button-section">
        <button class="btn-category">‡∏≠‡∏∏‡∏î‡∏ô‡∏¥‡πÄ‡∏°‡∏∞‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</button>
    </section>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Anime Grid -->
        <section class="anime-grid">
            <!-- JS ‡∏à‡∏∞‡πÄ‡∏ï‡∏¥‡∏° card ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å KOK.php ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
        </section>

        <!-- Sidebar Categories -->
        <aside class="sidebar">
            <div class="category-group">
                <h3 class="category-title"></h3>‡∏¢‡∏≠‡∏î‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                <div class="category-item">‡∏¢‡∏≠‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏á<span class="count" id="anime-total-count"></span></div>
            <div class="stats">
                <div class="stat-item">üëÅÔ∏è Views</div>
                <div class="stat-count">6 753 312</div>
            </div>
        </aside>
    </div>

    <footer class="footer">
        <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î -->
        <section class="uploaded-clips" style="margin:2rem 0;">
            <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</h2>
            <?php
            $clipDir = 'uploads/';
            if (is_dir($clipDir)) {
                $clips = array_diff(scandir($clipDir), array('.', '..'));
                if (count($clips) > 0) {
                    echo '<ul style="list-style: none; padding: 0;">';
                    foreach ($clips as $clip) {
                        $clipUrl = $clipDir . $clip;
                        echo '<li style="margin-bottom: 1rem;">';
                        echo '<video src="' . $clipUrl . '" controls width="320" style="max-width:100%;"></video><br>';
                        echo '<span>' . htmlspecialchars($clip) . '</span>';
                        echo '</li>';
                    }
                    echo '</ul>';
                } else {
                    echo '<p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</p>';
                }
            } else {
                echo '<p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</p>';
            }
            ?>
        </section>
        <p>&copy; 2025 037-Anime. All Rights Reserved.</p>
    </footer>

    <script>
 // --- ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å KOK.php ---
                function renderAnimeFromLocalStorage() {
                    const animeList = JSON.parse(localStorage.getItem('animeData') || '[]');
                    const grid = document.querySelector('.anime-grid');
                    if (!grid) return;
                    // ‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ã‡∏±‡∏ö‡πÑ‡∏ó‡∏¢
                    const subThaiList = animeList.filter(anime => anime.type === '‡∏û‡∏≤‡∏Å‡∏¢‡πå‡πÑ‡∏ó‡∏¢');
                    if (!subThaiList.length) {
                        grid.innerHTML = '<div style="text-align:center;color:#999;grid-column:1/-1;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏ô‡∏±‡∏á‡∏ã‡∏±‡∏ö‡πÑ‡∏ó‡∏¢</div>';
                        return;
                    }
                    grid.innerHTML = subThaiList.map(anime => `
                        <div class="anime-card" onclick="window.location.href='‡∏´‡∏ô‡∏±‡∏á.php?title=${encodeURIComponent(anime.title)}'">
                            <div class="anime-image-wrapper">
                                <img src="${anime.image}" alt="${anime.title}">
                                <span class="episode-badge">EP ${anime.episode}</span>
                            </div>
                            <div class="anime-info">
                                <div class="anime-status">
                                    <span class="status-tag">${anime.status}</span>
                                </div>
                                <h3 class="anime-title">${anime.title}</h3>
                                <div class="anime-buttons">
                                    <button class="btn-episode">EP ${anime.episode}</button>
                                    <button class="btn-watch">‡∏î‡∏π</button>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
                // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
                renderAnimeFromLocalStorage();
        // Dropdown toggle functionality
        document.querySelectorAll('.nav-dropdown-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                const dropdown = this.closest('.nav-dropdown');
                const menu = dropdown.querySelector('.dropdown-menu');
                
                // ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏∑‡πà‡∏ô‡πÜ
                document.querySelectorAll('.dropdown-menu').forEach(m => {
                    if (m !== menu) m.classList.remove('active');
                });
                
                // ‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
                menu.classList.toggle('active');
            });
        });

        // ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.nav-dropdown')) {
                document.querySelectorAll('.dropdown-menu').forEach(m => {
                    m.classList.remove('active');
                });
            }
        });

        // ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π
        document.querySelectorAll('.dropdown-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                const text = this.textContent.trim();
                
                if (text.includes('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡∏±‡∏á')) {
                    window.location.href = 'KOK.php';
                } else if (text.includes('‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠')) {
                    console.log('‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠');
                    // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
                } else if (text.includes('‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô')) {
                    console.log('‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô');
                    // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
                }
            });
        });

        // ‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
document.querySelector('.btn-search').addEventListener('click', function() {
    const box = document.getElementById('search-box');
    box.style.display = box.style.display === 'none' ? 'block' : 'none';
    document.getElementById('search-input').focus();
});

// ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡∏±‡∏á
document.getElementById('search-go').addEventListener('click', function() {
    const keyword = document.getElementById('search-input').value.trim().toLowerCase();
    const animeList = JSON.parse(localStorage.getItem('animeData') || '[]');
    const grid = document.querySelector('.anime-grid');
    if (!grid) return;
    if (!keyword) {
        renderAnimeFromLocalStorage(); // ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏≠‡∏Å
        return;
    }
    const filtered = animeList.filter(anime => anime.title && anime.title.toLowerCase().includes(keyword));
    if (!filtered.length) {
        grid.innerHTML = `<div style="text-align:center;color:#999;grid-column:1/-1;">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</div>`;
        return;
    }
    grid.innerHTML = filtered.map(anime => `
        <div class="anime-card" onclick="window.location.href='‡∏´‡∏ô‡∏±‡∏á.php?title=${encodeURIComponent(anime.title)}'">
            <div class="anime-image-wrapper">
                <img src="${anime.image}" alt="${anime.title}">
                <span class="episode-badge">EP ${anime.episode}</span>
            </div>
            <div class="anime-info">
                <div class="anime-status">
                    <span class="status-tag">${anime.status}</span>
                </div>
                <h3 class="anime-title">${anime.title}</h3>
                <div class="anime-buttons">
                    <button class="btn-episode">EP ${anime.episode}</button>
                    <button class="btn-watch">‡∏î‡∏π</button>
                </div>
            </div>
        </div>
    `).join('');
});

// ‡∏Å‡∏î Enter ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
document.getElementById('search-input').addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
        document.getElementById('search-go').click();
    }
});

// --- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏ô‡∏±‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà ---
function updateCategoryCounts() {
    const animeList = JSON.parse(localStorage.getItem('animeData') || '[]');
    document.querySelectorAll('.category-item').forEach(item => {
        const category = item.childNodes[0].nodeValue.trim();
        const countSpan = item.querySelector('.count');
        if (countSpan) {
            const count = animeList.filter(anime => anime.category && anime.category.trim() === category).length;
            countSpan.textContent = `(${count})`;
        }
    });
}
updateCategoryCounts();

// --- ‡∏¢‡∏≠‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°‡πÄ‡∏ß‡πá‡∏ö ---
function updateViews() {
    const viewsKey = 'siteViews';
    let views = parseInt(localStorage.getItem(viewsKey) || '6005030', 10);
    views++;
    localStorage.setItem(viewsKey, views);
    const statCount = document.querySelector('.stat-count');
    if (statCount) statCount.textContent = views.toLocaleString();
}
updateViews();

// ‡πÅ‡∏™‡∏î‡∏á‡∏¢‡∏≠‡∏î‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å KOK.php
function updateAnimeTotalCount() {
    const animeList = JSON.parse(localStorage.getItem('animeData') || '[]');
    document.getElementById('anime-total-count').textContent = `(${animeList.length})`;
}
updateAnimeTotalCount();
    </script>
</body>
</html>
